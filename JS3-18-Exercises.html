<!DOCTYPE html>
<html>
<head>
	<title>18 Exrcises</title>
</head>
<body>
<script>
	
    // Exercise 1
    console.log('\nExercise 1');
    var obj1 = {
    	Prop1 : 'value1' ,
    	Prop2 : 'value2' ,
    	Prop3 : 'value3'
    };

    console.log('Properties: ' + Object.keys(obj1).join(", "));

    //Exercise2
    console.log('\nExercise 2');
    var student = {
      name : "David Rayy" , 
      sclass : "VI" ,
      rollno : 12
    };

    delete student.rollno;
    console.log('rollno' in student); // output: false

    //Exercise3
    console.log('\nExercise 3');
    var student = {
      name : "David Rayy" , 
      sclass : "VI" ,
      rollno : 12
    }

    console.log(Object.keys(student).length);

    //Exercise4
    console.log('\nExercise 4');
    var library = [ 
   {
       author: 'Bill Gates',
       title: 'The Road Ahead',
       readingStatus: true
   },
   {
       author: 'Steve Jobs',
       title: 'Walter Isaacson',
       readingStatus: true
   },
   {
       author: 'Suzanne Collins',
       title:  'Mockingjay: The Final Book of The Hunger Games', 
       readingStatus: false
   }];

   
   for( var i = 0; i < library.length; i++)
   { 
   	 var lib = library[i];
   	 console.log(lib.title +' by '+ lib.author);

   	 if(lib.readingStatus) {
   	 	console.log('You have read this book')
   	 }
   	 else {
        console.log('You are yet to read this book');
   	 }
   }

   //Exercise5
   console.log('\nExercise 5');

   const PI = 3.14159
   var cylinder = {
   	height : 10,
   	radius : 5
   };

   console.log('Volume of cylinder = ' + (PI * cylinder.height * Math.pow(cylinder.radius,2))); 

   //Exercise6
   console.log('\nExercise 6');
    
   var arr = [34, 9.2, -1.2, 23, 0.5, 2, -3];
   console.log('Array : ' + arr.join(', '));
   var temp;
   for (var i = arr.length; i > 0; i--)
   {
       for( var j = 0; j < i; j++)
       {
       	if( arr[j] > arr[j+1] )
       	{
             temp = arr[j];
             arr[j] = arr[j+1];
             arr[j+1] = temp;
       	}
       }
   } 

   console.log('Bubble-sort : ' + arr.join(', '));

   //Exercise7
   console.log('\nExercise 7');

   var string = 'dog';
   var result;

   for(var i = 0; i < string.length; i++)
   {
   	for(var j = i+1; j < string.length + 1; j++)
   	{
   		result += string.slice(i,j) + ', ' ;
   	}
   } 

   console.log(result);

   //Exercise8
   console.log('\nExercise 8');

   function showTime() {
   	var today = new Date();
   	var h = today.getHours();
   	var m = today.getMinutes();
   	var s = today.getSeconds();
   	m = check(m);
   	s = check(s);

   	console.log(h + ':' + m + ':' + s);

   	var t = setTimeout(showTime,2000);
   }

   function check(i) {
	   	if(i<10) {
	   		i = '0' + i ;
	   	}
	   	return i;
   }

   // showTime();

   //Exercise9
   console.log('\nExercise 9');

   var circle = new Object();
   var input = prompt('Give radius');
   circle.r = input;

   circle.perimeter = function () {
     console.log('Perimeter = ' + (2 * PI * circle.r));
   }

   circle.area = function () {
     console.log('Area = ' + (PI * Math.pow(circle.r,2)));
   }

   circle.perimeter();
   circle.area();



   //Exercise10
   console.log('\nExercise 10');

   var library = [ 
   {
       title:  'The Road Ahead',
       author: 'Bill Gates',
       libraryID: 1254
   },
   {
       title: 'Walter Isaacson',
       author: 'Steve Jobs',
       libraryID: 4264
   },
   {
       title: 'Mockingjay: The Final Book of The Hunger Games',
       author: 'Suzanne Collins',
       libraryID: 3245
   }];

   // var temp;
   // for(var i = 0; i < library.length; i++)
   // {
   // 	  for( var j = 0; j < Object.keys(library[i]).length; j++ ) {
   //         if( library[i])
   // 	  }
   // }

   var sort_by = function(field_name, reverse, initial){

   var key = initial ?
       function(x)
             {
               return initial(x[field_name]);
             } :
       function(x) 
             {
               return x[field_name];
             };

   reverse = !reverse ? 1 : -1;

   return function (x, y) {
       return x = key(x), y = key(y), reverse * ((x > y) - (y > x));
     } ;
};


var newobj = library.sort(sort_by('libraryID', true, parseInt));

console.log(newobj);

   //Exercise11
   console.log('\nExercise 11');
   
   var Book = new Object();

      Book.title = 'Name';
      Book.method1 = function() {}
      Book.method2 = function() {}
      Book.method3 = function() {}

      console.log(Object.getOwnPropertyNames(Book));

   //Exercise12
   console.log('\nExercise 12');

   function parse_URL(url) {
    var a = document.createElement('a');
    a.href = url;
    return {
        source: url,
        protocol: a.protocol.replace(':', ''),
        host: a.hostname,
        port: a.port,
        query: a.search,
        params: (function () {
            var ret = {},
                seg = a.search.replace(/^\?/, '').split('&'),
                len = seg.length,
                i = 0,
                s;
            for (; i < len; i++) {
                if (!seg[i]) {
                    continue;
                }
                s = seg[i].split('=');
                ret[s[0]] = s[1];
            }
            return ret;
        })(),
        file: (a.pathname.match(/\/([^\/?#]+)$/i) || [, ''])[1],
        hash: a.hash.replace('#', ''),
        path: a.pathname.replace(/^([^\/])/, '/$1'),
        relative: (a.href.match(/tps?:\/\/[^\/]+(.+)/) || [, ''])[1],
        segments: a.pathname.replace(/^\//, '').split('/')
    };
}

console.log(parse_URL('https://github.com/pubnub/python/search?utf8=%E2%9C%93&q=python'));

   //Exercise13
   console.log('\nExercise 13');

   function allKeys(obj) {
    if (!isObject(obj)) return [];
    var keys = [];
    for (var key in obj) keys.push(key);
    return keys;
}
function isObject(obj) 
{
    var type = typeof obj;
    return type === 'function' || type === 'object' && !!obj;
  }
function Student(userName) {
  this.userName = userName;
}
Student.prototype.password = true;
console.log(allKeys(new Student("George Martin")));
   
   //Exercise14
   console.log('\nExercise 14');

   var Avengers = {
       one : 'Captain America',
       two : 'Iron Man',
       three : 'Thor',
       four : 'Hulk'
   };

   console.log(Object.values(Avengers));

  //Exercise15
   console.log('\nExercise 15');

   var employee = {
   	Name : 'Vikram Hanji',
   	Age : 22,
   	Gender : 'Male'
   };

   console.log('["'+ Object.keys(employee) +'","'+Object.values(employee) + '"]' );
   
   //Exercise16
   console.log('\nExercise 16');
   function invert_key_value(obj) {
    var result = {};
    var keys = _keys(obj);
    for (var i = 0, length = keys.length; i < length; i++) {
      result[obj[keys[i]]] = keys[i];
    }
    return result;
  }
function _keys(obj) 
  {
    if (!isObject(obj)) return [];
    if (Object.keys) return Object.keys(obj);
    var keys = [];
    for (var key in obj) if (_.has(obj, key)) keys.push(key);
    return keys;
  }
function isObject(obj) 
 {
    var type = typeof obj;
    return type === 'function' || type === 'object' && !!obj;
  }
console.log(invert_key_value({height: 20, width: 10, color: "red"}));


   //Exercise17
   console.log('\nExercise 17');

   function hasKey(obj, key) {
    return obj != null && hasOwnProperty.call(obj, key);
  }
console.log(hasKey({ Name: "Harry", Patronus: "Stag", Wand: "phoenix"}, "Wand"));


   //Exercise18
   console.log('\nExercise 18');

   function is_dom_element(obj) {
    return !!(obj && obj.nodeType === 1);
  }
console.log(is_dom_element(jQuery('body')[0]));

 </script>
</body>
</html>